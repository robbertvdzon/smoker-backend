
<html>
<head>

    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="/resources/demos/style.css">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

    <script>
        $( function() {
            $( "#datepicker" ).datepicker();
        } );
    </script>

    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <!--<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>-->
    <script type="text/javascript">
        google.charts.load('current', {'packages':['corechart']});
        google.charts.setOnLoadCallback(drawChart);

        function getData() {
            var jsonArrayData = [];
            var jsonData = $.ajax({
                url: "getall",
                dataType: "json",
                async: false
            }).responseText;
            var jsonObj = $.parseJSON(jsonData);
            jsonArrayData.push(['Tijd', 'Temp', 'Fan'])
            for (i=0; i<jsonObj.length; i++){
                jsonArrayData.push([new Date(jsonObj[i].date), jsonObj[i].temp, jsonObj[i].sturing])
            }
            return new google.visualization.arrayToDataTable(jsonArrayData);

        }

        function drawChart() {
            var data = getData();

            var options = {
                title: 'Smoker',
                curveType: 'function',
                hAxis: {title: 'Tijd',
                    slantedText:true, slantedTextAngle:80},
                vAxis: {minValue: 80},
                explorer: {
                    actions: ['dragToZoom', 'rightClickToReset'],
                    axis: 'horizontal',
                    keepInBounds: true,
                    maxZoomIn: 4.0}
            };

            var chart = new google.visualization.LineChart(document.getElementById('chart_div'));
            chart.draw(data, options);

            chart.draw(data, options);
            view = new google.visualization.DataView(data);
            view.hideColumns([2]);
            chart.draw(view, options);

            var hideSal = document.getElementById("hideSales");
            hideSal.onclick = function()
            {
                view = new google.visualization.DataView(data);
                view.hideColumns([1]);
                chart.draw(view, options);
            }
            var hideExp = document.getElementById("hideExpenses");
            hideExp.onclick = function()
            {
                view = new google.visualization.DataView(data);
                view.hideColumns([2]);
                chart.draw(view, options);
            }
            var all = document.getElementById("all");
            all.onclick = function()
            {
                view = new google.visualization.DataView(data);
                chart.draw(view, options);
            }

        }

        $(document).ready(function() {
            $('input[type=radio][name=samplerange]').change(function() {
                alert(this.value);
            });
            $('input[name=autorefresh]').change(function() {
                alert(this.checked);
            });
            $('#datepicker').change(function() {
                alert(this.value);
            });
            $('#van').change(function() {
                alert(this.value);
            });
            $('#tot').change(function() {
                alert(this.value);
            });
        });

        setInterval(reload,1000);

        function reload(){
//            alert("reload");
        }

    </script>
</head>
<body>

<form action="">
    <input type="radio" name="samplerange" value="2uur" checked> laatste 2 uur<br>
    <input type="radio" name="samplerange" value="8uur"> laatste 8 uur <br>
    <input type="radio" name="samplerange" value="24uur"> laatste 24 uur <br>
    <input type="radio" name="samplerange" value="custom"> custom :
    dag: <input type="text" id="datepicker">
    van
    <input type="text" id="van" value="00:00">
    tot
    <input type="text" id="tot" value="24:00">
    <br>

    <input type="checkbox" name="autorefresh" value="refresh" checked>Auto refresh
</form>

<div style="text-align: center;"><div style="width: 500px; margin: 0 auto;"><h1>
    <button type="button" id="hideSales"  >Alleen ventilator</button>
    <button type="button" id="hideExpenses"  >Alleen temp</button>
    <button type="button" id="all"  >Beide</button>
</h1></div></div>


<div style="text-align: center;"><div style="width: 100%; margin: 0 auto;"><h1>
    Huidige temp:
    85 graden, zuurstofdoorvoer op 80%
</h1></div></div>



<div id="chart_div" style="width: 100%; height: 500px"></div>


</body>
</html>